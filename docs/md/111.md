```java
@Override
    public List<TerminalTreeVO> tree(String id) {
        Assert.isTrue(id!=null, "用户id为空");

        List<TerminalSimpleVO> terminalList = Optional.ofNullable(this.baseMapper.getTerminalVOS(id)).orElse(Collections.emptyList());
        if (CollectionUtil.isNotEmpty(terminalList)) {
            return this.treeBuild(terminalList);
        } else {
            return null;
        }
    }

    private List<TerminalTreeVO> treeBuild(List<TerminalSimpleVO> terminalList) {

        Map<String, String> province = terminalList.stream().collect(Collectors.toMap(TerminalSimpleVO::getProvince, TerminalSimpleVO::getProvince, (v1, v2) -> v1));
        Map<String, String> city = terminalList.stream().collect(Collectors.toMap(TerminalSimpleVO::getCity, TerminalSimpleVO::getProvince, (v1, v2) -> v1));
        Map<String, String> district = terminalList.stream().collect(Collectors.toMap(TerminalSimpleVO::getDistrict, TerminalSimpleVO::getCity, (v1, v2) -> v1));
        Map<String, String> street = terminalList.stream().collect(Collectors.toMap(TerminalSimpleVO::getStreet, TerminalSimpleVO::getDistrict, (v1, v2) -> v1));

        List<Map.Entry<String, String>> provinceList = province.entrySet().stream().distinct().collect(Collectors.toList());
        List<Map.Entry<String, String>> cityList = city.entrySet().stream().distinct().collect(Collectors.toList());
        List<Map.Entry<String, String>> districtList = district.entrySet().stream().distinct().collect(Collectors.toList());
        List<Map.Entry<String, String>> streetList = street.entrySet().stream().distinct().collect(Collectors.toList());

        // 顶层
        List<TerminalTreeVO> top = new ArrayList<>();
        for (Map.Entry<String,String> item : provinceList) {
            TerminalTreeVO treeVO = new TerminalTreeVO();
            treeVO.setName(item.getValue());
            treeVO.setParentName(item.getKey());
            top.add(treeVO);
        }

        ArrayList<TerminalTreeVO> upmid = new ArrayList<>();
        for (Map.Entry<String,String> item : cityList) {
            TerminalTreeVO treeVO = new TerminalTreeVO();
            treeVO.setName(item.getKey());
            treeVO.setParentName(item.getValue());
            upmid.add(treeVO);
        }
        for (int i = 0; i < top.size(); i++) {
            Map<String, String> collect = terminalList.stream().collect(Collectors.toMap(TerminalSimpleVO::getCity, TerminalSimpleVO::getProvince, (v1, v2) -> v1));
            for (String value : collect.values()) {
                if (top.get(i).getParentName().equals(value)){
                    List<TerminalTreeVO> collect1 = upmid.stream().filter(o -> o.getParentName().equals(value)).collect(Collectors.toList());
                    top.get(i).setChildren(collect1);
                }
            }
        }

        ArrayList<TerminalTreeVO> lowmid = new ArrayList<>();
        for (Map.Entry<String,String> item : districtList) {
            TerminalTreeVO treeVO = new TerminalTreeVO();
            treeVO.setName(item.getKey());
            treeVO.setParentName(item.getValue());
            lowmid.add(treeVO);
        }
        for (int i = 0; i < upmid.size(); i++) {
            Map<String, String> collect = terminalList.stream().collect(Collectors.toMap(TerminalSimpleVO::getDistrict, TerminalSimpleVO::getCity, (v1, v2) -> v1));
            for (String value : collect.values()) {
                if (upmid.get(i).getName().equals(value)) {
                    List<TerminalTreeVO> collect1 = lowmid.stream().filter(o -> o.getParentName().equals(value)).collect(Collectors.toList());
                    upmid.get(i).setChildren(collect1);
                }
            }
        }

        ArrayList<TerminalTreeVO> low = new ArrayList<>();
        for (Map.Entry<String,String> item : streetList) {
            TerminalTreeVO treeVO = new TerminalTreeVO();
            treeVO.setName(item.getKey());
            treeVO.setParentName(item.getValue());
            low.add(treeVO);
        }
        for (int i = 0; i < lowmid.size(); i++) {
            Map<String, String> collect = terminalList.stream().collect(Collectors.toMap(TerminalSimpleVO::getStreet, TerminalSimpleVO::getDistrict, (v1, v2) -> v1));
            for (String value : collect.values()) {
                if (lowmid.get(i).getName().equals(value)) {
                    List<TerminalTreeVO> collect1 = low.stream().filter(o -> o.getParentName().equals(value)).collect(Collectors.toList());
//                    List<TerminalSimpleVO> collect2 = terminalList.stream().filter(o -> o.getDistrict().equals(value)).collect(Collectors.toList());
//                    List<TerminalTreeVO> collect3 = collect1.stream().map(o -> {
//                        for (TerminalSimpleVO terminalSimpleVO : collect2) {
//                            if (terminalSimpleVO.getStreet().equals(o.getName())) {
//                                o.setTerminalId(terminalSimpleVO.getId());
//                                o.setTerminalName(terminalSimpleVO.getTerminalName());
//                                break;
//                            }
//                        }
//                        return o;
//                    }).collect(Collectors.toList());
                    lowmid.get(i).setChildren(collect1);
                }
            }
        }

        // 数据
        for (int i = 0; i < low.size(); i++){
            Map<String, String> collect = terminalList.stream().collect(Collectors.toMap(TerminalSimpleVO::getStreet, TerminalSimpleVO::getDistrict, (v1, v2) -> v1));
            for (String key : collect.keySet()) {
                if (low.get(i).getName().equals(key)) {
                    ArrayList<TerminalTreeVO> terminalTreeVOS = new ArrayList<>();
                    List<TerminalSimpleVO> collect1 = terminalList.stream().filter(o -> o.getStreet().equals(key)).collect(Collectors.toList());
                    low.stream().map(o -> {
                        TerminalTreeVO treeVO = null;
                        for (TerminalSimpleVO terminalSimpleVO : collect1) {
                            if (o.getName().equals(terminalSimpleVO.getStreet())) {
                                treeVO = new TerminalTreeVO();
                                treeVO.setName(terminalSimpleVO.getTerminalName());
                                treeVO.setTerminalId(terminalSimpleVO.getId());
                                if (treeVO.getTerminalId() != null){
                                    terminalTreeVOS.add(treeVO);
                                }
//                                if (treeVO != null && StrUtil.isNotEmpty(treeVO.getName()) && treeVO.getName().equals(terminalSimpleVO.getTerminalName())){
//                                    TerminalTreeVO treeVO1 = new TerminalTreeVO();
//                                    treeVO1.setTerminalId(terminalSimpleVO.getId());
//                                    treeVO1.setName(terminalSimpleVO.getTerminalName());
//                                }
                            }
                        }
                        return treeVO;
                    }).forEach(item -> {});
                    low.get(i).setChildren(terminalTreeVOS);
                }
            }
        }

        return top;
    }
```